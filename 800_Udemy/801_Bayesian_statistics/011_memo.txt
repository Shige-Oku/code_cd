
・コロモゴロフの確率の公理
　・0 <= p(x) <= 1  確率は非負で1以下
　・Σp(x) = 1  ∫p(x)dx = 1全事象の確率を足し合わせると1
　・p( A ∪ B ) = p(A) + p(B)  確率は足し算できる

　・確率とは不確かさの度合いを表す
　・確率の考え方１：ある事象の考え方 = 着目事象の数 / 全事象の数
　・確率の考え方２：ある事象の確率 = lim(n→∞) na / n  na：ある事象が起こった回数　n：試行回数
　・確率には３つの公理がある。（コロモゴロフの確率の公理）

　・RVS：確率変数
　・事象
　・確率分布
　　確率変数の確率の分布
　・確率質量関数PMF：確率変数が離散的なもの
　・確率密度関数PDF：確率変数が連続的なもの

　・積事象（1回目に３、２回目に偶数）
　・和事象（１または２が出る）
　・余事象（５以外が出る）
　
　・同時確率と条件付き確率
　・独立事象：2つの事象に相関がない
　
　・期待値：分布の中心
　・分散：ばらつきの尺度
　・中心極限定理：多数の系の平均は期待値に近づいていく
　
・ベイズの定理
　θ（原因）、D（結果）とする
　・f(θ, D) = f(D, θ) * f(θ)
　・f(θ, D) = f(θ, D) * f(D)
　・f(θ|D) = f(D|θ) * f(θ) / f(D)
　f(θ|D)：事後分布
　　結果Dが与えられた時の原因θの条件付き確率
　f(D|θ)：尤度関数
　　原因と結果を紐づけている部分（ベイズ統計のメイン）
　f(θ)：事前分布
　　原因についての事前知識の確率分布
　f(D)：エビデンス
　　事後分布の規格化定数
　・ベイズの考え方では出た結果Dを元に、それを発生させる原因θを逆に推定する
　・ベイズの定理により、尤度関数と事前分布、エビデンスから事後分布という逆確率を求める
　・パラメータθの確率分布を考えるかそうでないかという点でベイズ統計と従来の統計学で違う
　・ベイズ統計の流れ
　　１．下調べ：
　　　問題の背景を調べる。原因と結果の関係の仮説を立てる。
　　２．統計モデルの作成：
　　　１．の情報に基づいて統計モデルを作成する。
　　３．事後分布の計算
　　　得られたデータから事後分布を推定する

・from scipy.stats import bernoulli  ベルヌーイ分布
　・bernoulli.pmf(x, p)
　　ベルヌーイ分布
　　x：0 or 1の値
　　p:1の時の確率
　・numpy.prod：行列積を算出
　
・ベルヌーイ分布
　・Bernoulli(x|θ) = θ**x * (1-θ)**(1-x)
　・性質
　　E[X] = θ
　　V[X] = θ(1-θ)
　使用例：コイン投げなど2者択一

・二項分布
　・Binomial(x|N, θ) = N! / (x! * (N-x)!) * θ**x * (1-θ)**(N-x)
　・性質：
　　E[X] = Nθ
　　V[X] = Nθ(1-θ)
　使用例：N回コイン投げしたなど

・一様分布
　・Uniform(x|a, b) = 1 / (b - a)
　・性質
　　E[X] = (b + a) / 2
　　V[X] = (b - a)**2 / 12
　・使用例：事前分ぷや確率変数に特徴がない場合

・Beta分布
　・Beta(x|α,β) = 1 / B(α,β) * x**(α - 1) * (1 - x)**(β - 1)
　・性質
　　E[X] = α / (α + β)
　　V[X] = αβ / (α + β)**2 * (α + β + 1)
　　使用例：[0, 1]で定義される確率変数

・正規分布
　・Normal(x|μ,σ) = 1 / (2 * π * σ**2) * exp( -(x - μ)**2 / 2 * σ**2)
　・性質
　　E[X] = μ
　　V[X] = σ**2
　・使用例：測定誤差や身長の分布など

・指数分布
　・Exponential(x|θ) = 1 / θ * exp(-x / θ)
　　θ：減衰率
　・性質
　　E[X] = θ
　　V[X] = θ**2
　・使用例：機械の耐用年数・地震の起こる間隔など（正規分布より裾が長い）
　・指数分布の無記憶性
　　x' = x + a
　　Exponential(x'|θ) 
　　　=> exp(-x' / θ)
　　　=> exp(-(x + a) / θ)
　　　=> const. * exp(-x / θ)
　　　=> Exponential(x|θ)
　　時間の原点をずらしても分布は同じになる
　　Ex. 昨日事故が起きたから、当分事故は起きないだろうとは限らない（無記憶性)

・Poisson分布
　・Poisson(x|λ) = 1 / x! * λ**x * exp(-λ)
　・性質
　　E[X] = λ
　　V[X] = λ
　・使用例：交通事故の数など（同じ指数分布に従う独立な確率変数のイベント数）

・Gamma分布
　・Gamma(x|k, θ) = 1 / Γ(k) * θ**k * x**(k-1) * exp(-x / θ)
　・性質
　　E[X] = kθ
　　V[X] = k* (θ**2)
　・使用例：感染症の潜伏期間など（K=1の場合、指数分布になる）

・自然共役事分布
　・べき乗同士の積では結果の関数の形が同じ
　　=> 自然共役事前分布の発想
　　　共役とは一緒に出てくるペアのこと
　・自然共役事前分布	尤度関数			事後分布
　　Beta分布			Bernoulli分布		Beta分布
　　Beta分布			2項分布				Beta分布
　　Gamma分布			Poisson分布			Gamma分布
　　正規分布			正規分布の平均		正規分布
　　逆Gamma分布			正規分布の分散		逆Gamma分布
　・統計モデルが決まる⇒尤度関数が決まる⇒自然共役事前分布が決まる
　・事後分布が事前分布と同じ形⇒事後分布が解析的に求まる
　　ベイズ更新している間に事後分布の形がどんどん複雑になる心配がない

・MAP推定・無情報事前分布
　①統計モデルを作る
　　・事後分布の推定
　　　①－１
　　　　自然共役事前分布を使用して手計算
　　　①－２（MAP推定）
　　　　確率分布全体を求めるのは諦める。
　　　　代わりに事後分布が最大の点だけを求める。
　　　①－３
　　　　MCMCで事後分布をサンプリング
　　・f(θ|D)が最大のθを求める = MAP推定（Maximum a Posteriori estimate）
　　　θMAP = argmax(f(θ|D))
　　・事前分布
　　　何も情報がないなら、無情報事前分布
　　　事前分布が無情報事前分布の場合
　　　θMAP = argmax(f(θ|D))
　　　      = argmax(f(D|θ)f(θ))
　　　f(θ) = const.なので
　　　      = const. argmax(f(D|θ))
　　　               最尤推定
　　　MAP推定が最尤推定値に一致（頻度論と整合）
　　　・事前分布は無情報事前分布とする（最尤推定になる）
　　　　θMAP = argmax(f(D|θ)) を変形
　　　　      = argmax(log10 f(D|θ))
　　　　      = argmin(-log10 f(D|θ))
　　　　      = argmin(NLL)
　　　　      NLL:Negative Log Likehood
　　　・NLLをscipyの optmize.minimize を使用して最小化する
　　　　尤度は正規分布に従うと仮定
　　　　f(D|θ) = Normal(D|θ)
　　　　Normal(D|θ) = Π Normal(xi |θ)
　　　　NLL = -log10 f(D|θ)に代入
　　　　    = -log10 ΠNormal(xi |θ)
　　　　    = -Σlog10 Normal(xi|θ)
　　　　               stats.norm.pdf(mu, loc=args)
　・pandas.read_excel()： excel ファイルからデータフレームに読み込み
　【サンプルコード】Pandasのread_excelでExcelファイルを読み込む方法
　　https://yolo.love/pandas/read-excel/
　　pandasでExcelファイル（xlsx, xls）の読み込み（read_excel） | note.nkmk.me
　　https://note.nkmk.me/python-pandas-read-excel/
　  
・モンテカルロ法
　・乱数を使った数値計算手法
　・MCSが増えていくとモンテカルロ法の解が解析解に確率的に漸近していく
　・MCS：Monte Carlo Step　点数をひいた数






